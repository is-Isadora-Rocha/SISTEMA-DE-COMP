<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>Listagem de Jogos</title>
</h:head>
<h:body>
    <h1>Listagem de Jogos</h1>
    
    <h:form>
        <p:commandButton value="Voltar para a pÃ¡gina de cadastro" action="index.xhtml" />
    </h:form>


    <h:form id="form">
       <p:dataTable id="tabela" var="jogo" value="#{jogoBean.lista}" emptyMessage="Nenhum jogo encontrado">
        
        <p:ajax event="rowEdit" listener="#{jogoBean.editar(jogo)}"
				update=":form:tabela" />

			<p:column headerText="ID Jogo">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{jogo.id}" />
					</f:facet>
					<f:facet name="input">
						<h:inputText value="#{jogo.id}" disabled="true" />
					</f:facet>
				</p:cellEditor>
			</p:column>
			
            <p:column headerText="Data da Partida">
                <h:outputText value="#{jogo.dataPartida}" />
            </p:column>
            <p:column headerText="Time 1">
                <h:outputText value="#{jogo.time1}" />
            </p:column>
            <p:column headerText="Time 2">
                <h:outputText value="#{jogo.time2}" />
            </p:column>
            <p:column headerText="Campeonato">
                <h:outputText value="#{jogo.campeonato.nome}" />
            </p:column>
            <p:column headerText="Gols Time 1">
                <h:outputText value="#{jogo.golsTime1}" />
            </p:column>
            <p:column headerText="Gols Time 2">
                <h:outputText value="#{jogo.golsTime2}" />
            </p:column>
            
			<p:column headerText="Editar">
				<p:rowEditor />
			</p:column>
            
           <p:column headerText="Excluir">
				<p:commandButton style="background-color:red" icon="pi pi-trash"
					title="Excluir" actionListener="#{jogoBean.deletar(jogo.id)}"
					update=":form:tabela" />
			</p:column>
        </p:dataTable>
        </h:form>
        

</h:body>
</html>
